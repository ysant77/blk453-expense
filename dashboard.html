<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard | BLK 453</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="header">
    <h1>BLK 453, 09-125 Expense Management</h1>
    <button id="logout-btn">Logout</button>
  </div>

  <div class="main-content">
    <section class="section">
      <h2>Tenant Management</h2>
      <form id="tenant-add-form">
        <input type="text" id="new-name" placeholder="Name *" required />
        <input type="number" id="new-rent" placeholder="Rent (SGD) *" required />
        <input type="date" id="new-movein" required />
        <input type="date" id="new-moveout" placeholder="Move-Out (optional)" />
        <button type="button" onclick="addTenant()">Add Tenant</button>
      </form>
      <table id="tenant-table">
        <thead>
          <tr>
            <th>Name</th>
            <th>Rent (SGD)</th>
            <th>Move-In</th>
            <th>Move-Out</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="tenant-body"></tbody>
      </table>
    </section>

    <section class="section">
      <h2>PUB Bill Calculation</h2>
      <form id="pub-bill-form">
        <input type="number" id="pub-amount" placeholder="Total PUB Bill (SGD) *" required />
        <input type="date" id="pub-start" required />
        <input type="date" id="pub-end" required />
        <button type="button" onclick="calculatePUB()">Calculate & Save</button>
      </form>
      <div class="summary-box">
        <h4>ðŸ“Š Monthly Contribution Summary</h4>
        <pre id="summary-output"></pre>
      </div>
    </section>

    <section class="section">
      <h2>Past PUB Bills</h2>
      <table id="pub-history">
        <thead>
          <tr>
            <th>Amount</th>
            <th>Start</th>
            <th>End</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody id="pub-history-body"></tbody>
      </table>
    </section>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.6/dist/umd/supabase.min.js"></script>
  <script src="supabaseClient.js"></script>
  <script src="dashboard.js"></script>
</body>
</html>
